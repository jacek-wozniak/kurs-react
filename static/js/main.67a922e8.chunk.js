(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{136:function(e,t,a){"use strict";a.r(t);var n=a(3),r=a.n(n),o=a(56),c=a.n(o),l=(a(67),a(68),a(69),a(70),a(19)),s=a(57),i=a(23),u=a(14),m=a(15),d=a(32),h=a(26),k=a(33),f=a(25),v=a(58),p=a.n(v),E=(a(71),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={content:"",dueDate:"",priority:!1,contentError:""},a.handleInputFocus=function(e){a.state.contentError&&a.setState({contentError:""})},a.handleInputChange=function(e){var t=e.target.checked||e.target.value;a.setState(Object(f.a)({},e.target.name,t))},a.handleDateChange=function(e){a.setState({dueDate:e})},a.handleFormSubmit=function(e){e.preventDefault();var t=!0;if(a.state.content.length<3?(a.setState({contentError:"Wpisz conajmniej 3 znaki"}),t=!1):a.state.content.length>=50&&(a.setState({contentError:"Przekroczy\u0142e\u015b 50 znak\xf3w"}),t=!1),t){var n={content:a.state.content,dueDate:Date.parse(a.state.dueDate)||0,priority:a.state.priority};a.props.addTask(n),a.setState({content:"",dueDate:"",priority:!1,contentError:""})}},a}return Object(k.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.content,n=t.dueDate,o=t.priority,c=t.contentError;return r.a.createElement("section",{className:"section"},r.a.createElement("h2",{className:"section__header",onClick:function(){return e.props.toggleTab("form")}},"Dodaj nowe zadanie"),r.a.createElement("form",{className:"form"+(this.props.active?"":" hidden")},r.a.createElement("div",{className:"form__textarea-container"},r.a.createElement("textarea",{className:"form__textarea",name:"content",placeholder:"Tre\u015b\u0107 zadania",value:a,onFocus:this.handleInputFocus,onChange:this.handleInputChange}),c&&r.a.createElement("span",{className:"form__error"},c)),r.a.createElement("div",{className:"form__date-container"},r.a.createElement(p.a,{className:"form__date",selected:n,onChange:this.handleDateChange,placeholderText:"Data",dateFormat:"dd-MM-yyyy"})),r.a.createElement("label",{htmlFor:"priorityCheckbox",className:"form__checkbox-label"},r.a.createElement("input",{id:"priorityCheckbox",className:"form__checkbox",name:"priority",type:"checkbox",checked:o,onChange:this.handleInputChange}),"Priorytet"),r.a.createElement("input",{className:"form__submit",type:"submit",value:"Dodaj",onClick:this.handleFormSubmit})))}}]),t}(n.Component));function g(e){if(!e)return null;var t=new Date(e),a=t.getDate(),n=t.getMonth()+1,r=t.getFullYear();return a<10&&(a="0".concat(a)),n<10&&(n="0".concat(n)),"".concat(a,".").concat(n,".").concat(r)}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return r.a.createElement("span",{className:"icon icon--remove",title:"Usu\u0144",onClick:e})}var T=function(e){var t=e.task,a=t.id,n=t.content,o=t.priority,c=t.dueDate;return r.a.createElement("tr",null,r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,g(c)),r.a.createElement("td",null,o&&r.a.createElement("span",{className:"icon icon--priority",title:"Zadanie priorytetowe"}),function(e){return!!e&&e<Date.now()}(c)&&r.a.createElement("span",{className:"icon icon--expired",title:"Min\u0119\u0142a zaplanowana data wykonania"})),r.a.createElement("td",null,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return r.a.createElement("span",{className:"icon icon--done",title:"Wykonaj",onClick:e})}(function(){return e.doTask(a)}),b(function(){return e.removeTask(a)})))},y=function(e){var t=e.tasks.map(function(t){return r.a.createElement(T,{key:t.id,task:t,removeTask:e.removeTask,doTask:e.doTask})});return r.a.createElement("section",{className:"section todo"},r.a.createElement("h2",{className:"section__header",onClick:function(){return e.toggleTab("todo")}},"Zadania do zrobienia:"),r.a.createElement("table",{className:"table"+(e.active?"":" hidden")},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Zadanie"),r.a.createElement("th",null,"Zaplanowana data"),r.a.createElement("th",null,"Informacje"),r.a.createElement("th",null,"Akcje"))),r.a.createElement("tbody",null,t)))},D=function(e){var t=e.task,a=t.id,n=t.content,o=t.doneDate;return r.a.createElement("tr",null,r.a.createElement("td",null,a),r.a.createElement("td",null,n),r.a.createElement("td",null,g(o)),r.a.createElement("td",null,b(function(){return e.removeTask(a)})))},w=function(e){var t=e.tasks.map(function(t){return r.a.createElement(D,{key:t.id,task:t,removeTask:e.removeTask})});return r.a.createElement("section",{className:"section todo"},r.a.createElement("h2",{className:"section__header",onClick:function(){return e.toggleTab("done")}},"Ostatnio zrobione zadania:"),r.a.createElement("table",{className:"table"+(e.active?"":" hidden")},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"Zadanie"),r.a.createElement("th",null,"Data wykonania"),r.a.createElement("th",null,"Akcje"))),r.a.createElement("tbody",null,t)))},j=null,N=function(){function e(t){if(Object(u.a)(this,e),j&&j.name===t)return j;this.name=t,this.content=this.getData()||[],j=this}return Object(m.a)(e,[{key:"addData",value:function(e){try{this.content.push(e),localStorage.setItem(this.name,JSON.stringify(this.content))}catch(t){console.error("Something went wrong! \nError: ".concat(t))}}},{key:"setData",value:function(e){try{this.content=e,localStorage.setItem(this.name,JSON.stringify(this.content))}catch(t){console.error("Something went wrong! \nError: ".concat(t))}}},{key:"getData",value:function(){return JSON.parse(localStorage.getItem(this.name))}}]),e}(),_=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={tasks:[],activeTabs:{form:!1,todo:!0,done:!0}},a.storage=new N("tasks"),a.handleAddTask=function(e){var t=Object(i.a)(a.state.tasks),n=t.length?Math.max.apply(null,t.map(function(e){return e.id})):0;e.id=n+1,e.createDate=Date.now(),t.push(e),a.storage.addData(e),a.setState({tasks:t})},a.handleRemoveTask=function(e){var t=a.state.tasks.filter(function(t){return t.id!==e});a.storage.setData(t),a.setState({tasks:t})},a.handleDoTask=function(e){var t=a.state.tasks.map(function(t){return t.id!==e?t:(t.doneDate=Date.now(),t)});a.storage.setData(t),a.setState({tasks:t})},a.handleToggleTabActive=function(e){var t=Object(s.a)({},a.state.activeTabs);t[e]=!t[e],a.setState({activeTabs:t})},a}return Object(k.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){this.setState({tasks:this.storage.content})}},{key:"render",value:function(){var e,t,a=(e=this.state.tasks,t=function(e){return e.doneDate},e.reduce(function(e,a){var n=Object(l.a)(e,2),r=n[0],o=n[1];return t(a)?[[].concat(Object(i.a)(r),[a]),o]:[r,[].concat(Object(i.a)(o),[a])]},[[],[]])),n=Object(l.a)(a,2),o=n[0],c=n[1];return r.a.createElement("div",{className:"app"},r.a.createElement("h1",{className:"app__header"},"Todoapp"),r.a.createElement(E,{addTask:this.handleAddTask,toggleTab:this.handleToggleTabActive,active:this.state.activeTabs.form}),r.a.createElement(y,{tasks:c,removeTask:this.handleRemoveTask,doTask:this.handleDoTask,toggleTab:this.handleToggleTabActive,active:this.state.activeTabs.todo}),r.a.createElement(w,{tasks:o,removeTask:this.handleRemoveTask,doTask:this.handleDoTask,toggleTab:this.handleToggleTabActive,active:this.state.activeTabs.done}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},62:function(e,t,a){e.exports=a(136)},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){}},[[62,1,2]]]);
//# sourceMappingURL=main.67a922e8.chunk.js.map